<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NgopiCantik</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>â˜•</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dark-brown': '#5A3E36',
                        'cream': '#F6EFE9',
                        'sage-green': '#94A38B',
                        'white': '#FFFFFF',
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                        'playfair': ['Playfair Display', 'serif'],
                    },
                    aspectRatio: {
                        'portrait': '1080/1350'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'slide-down': 'slideDown 0.5s ease-out',
                        'slide-left': 'slideLeft 0.5s ease-out',
                        'slide-right': 'slideRight 0.5s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                        'pulse-slow': 'pulse 2s infinite',
                        'coffee-cart': 'coffeeCart 15s linear infinite',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        slideDown: {
                            '0%': { transform: 'translateY(-20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        slideLeft: {
                            '0%': { transform: 'translateX(20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        slideRight: {
                            '0%': { transform: 'translateX(-20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        coffeeCart: {
                            '0%': { transform: 'translateX(-100px) translateY(0)' },
                            '25%': { transform: 'translateX(100px) translateY(-20px)' },
                            '50%': { transform: 'translateX(300px) translateY(0)' },
                            '75%': { transform: 'translateX(500px) translateY(-20px)' },
                            '100%': { transform: 'translateX(800px) translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Semua style CSS sebelumnya tetap sama */
        .menu-card {
            transition: all 0.3s ease;
        }
        .menu-card:hover {
            transform: translateY(-5px);
        }
        .floating-cart {
            transition: all 0.3s ease;
        }
        .floating-cart:hover {
            transform: scale(1.05);
        }
        .step-content {
            display: none;
        }
        .step-content.active {
            display: block;
        }
        .modal-overlay {
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        .toast {
            transform: translateX(-50%) translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        .mobile-menu {
            transform: translateX(-100%);
            transition: all 0.3s ease;
        }
        .mobile-menu.active {
            transform: translateX(0);
        }
        .search-bar-mobile {
            display: none;
        }
        .search-bar-mobile.active {
            display: flex;
        }
        
.aspect-portrait {
    aspect-ratio: 1080 / 1350;
    width: 100%;
    height: auto;
    overflow: hidden;
}

.aspect-portrait img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Pastikan gambar tidak stretch */
    object-position: center;
}
        
        /* Animasi untuk elemen yang masuk saat scroll */
        .scroll-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        
        .scroll-animate.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Efek parallax */
        .parallax {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        
        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #5A3E36;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #F6EFE9;
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        
        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* Warning untuk item yang belum mencapai minimum order */
        .min-order-warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Toggle Switch Styles */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #94A38B;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* Coffee Cart Animation */
        .coffee-cart-container {
            position: relative;
            height: 200px;
            overflow: hidden;
            margin: 20px 0;
            border-radius: 10px;
            background: linear-gradient(135deg, #F6EFE9 0%, #e8dfd6 100%);
        }
        
        .coffee-cart {
            position: absolute;
            bottom: 20px;
            left: 0;
            font-size: 3rem;
            color: #5A3E36;
            z-index: 10;
        }
        
        .coffee-cart-path {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: #5A3E36;
            border-radius: 20px 20px 0 0;
        }
        
        .coffee-bean {
            position: absolute;
            font-size: 1.5rem;
            color: #5A3E36;
            opacity: 0.7;
        }
        
        /* 404 Page Styles */
        .page-404 {
            transition: all 0.5s ease;
        }

        .offline-indicator {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #fef3cd;
            border-bottom: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px 0;
            text-align: center;
            z-index: 100;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .offline-indicator.show {
            transform: translateY(0);
        }

        /* STATUS ONLINE DI KIRI */
        .connection-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .connection-status.online .status-dot {
            background-color: #10b981;
        }

        .connection-status.offline .status-dot {
            background-color: #ef4444;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }

        /* Bank Selection Styles */
        .bank-option {
            transition: all 0.3s ease;
        }
        
        .bank-option.selected {
            border-color: #94A38B;
            background-color: #f0f7f0;
            box-shadow: 0 0 0 2px rgba(148, 163, 139, 0.2);
        }

        /* PERBAIKAN LAYOUT MENU - TAMBAHKAN DI BAGIAN AKHIR STYLE CSS */
        .container {
            max-width: 100%;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        @media (min-width: 640px) {
            .container {
                max-width: 640px;
            }
        }

        @media (min-width: 768px) {
            .container {
                max-width: 768px;
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1024px;
            }
        }

        @media (min-width: 1280px) {
            .container {
                max-width: 1280px;
            }
        }

        /* Perbaikan layout menu section */
        #menu .container {
            overflow: hidden;
        }

        /* Perbaikan grid menu untuk mencegah pemotongan */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 1.5rem;
            width: 100%;
            margin: 0 auto;
        }

        @media (min-width: 640px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .menu-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Perbaikan card menu */
        .menu-card {
            transition: all 0.3s ease;
            width: 100%;
            box-sizing: border-box;
        }

        /* Pastikan gambar tidak melebihi container */
        .menu-card img {
            max-width: 100%;
            height: auto;
        }

        /* Perbaikan layout untuk section menu */
        @media (max-width: 768px) {
    .menu-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        padding: 0 0.5rem;
    }

    /* HAPUS INI: height: 180px; */
    .menu-card .aspect-portrait {
        /* height: 180px; <-- HAPUS! */
        aspect-ratio: 1080 / 1350; /* Biarkan aspect-ratio bekerja */
    }

    .menu-card h3 {
        font-size: 0.9rem;
        line-height: 1.2;
        margin-bottom: 0.25rem;
    }
    .menu-card p {
        font-size: 0.75rem;
        line-height: 1.3;
        margin-bottom: 0.5rem;
    }
    .menu-card .flex.justify-between {
        align-items: center;
    }
    .menu-card .font-semibold.text-lg {
        font-size: 0.9rem;
    }
    .add-to-cart-btn {
        width: 2rem;
        height: 2rem;
        font-size: 0.8rem;
    }
}

        @media (max-width: 480px) {
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
                padding: 0 0.25rem;
            }

            .menu-card .aspect-portrait {
                height: 160px;
            }

            .menu-card h3 {
                font-size: 0.85rem;
            }

            .menu-card p {
                font-size: 0.7rem;
            }

            .menu-card .font-semibold.text-lg {
                font-size: 0.85rem;
            }
        }

        /* Perbaikan untuk mencegah overflow horizontal */
        body {
            overflow-x: hidden;
        }

        /* Pastikan container tidak melebihi viewport */
        .container {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        /* Perbaikan layout untuk mencegah pemotongan di kanan */
        .menu-section-container {
            width: 100%;
            overflow: hidden;
        }

        /* Truncate untuk teks panjang */
        .truncate {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-cream font-inter text-dark-brown">
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="text-center">
            <div class="loader"></div>
            <p class="text-cream mt-4 text-lg font-medium">Memuat NgopiCantik.group...</p>
        </div>
    </div>

    <!-- 404 Page -->
    <div class="page-404 fixed inset-0 bg-cream z-50 hidden flex items-center justify-center" id="page404">
        <div class="text-center px-4">
            <div class="mb-8 animate-bounce">
                <i class="fas fa-wifi text-6xl text-sage-green mb-4"></i>
                <h1 class="font-playfair text-4xl md:text-5xl font-medium text-dark-brown mb-4">Koneksi Terputus</h1>
                <p class="text-lg text-gray-600 mb-6 max-w-md mx-auto">
                    Maaf, sepertinya koneksi internet Anda terputus. 
                    Periksa koneksi Anda dan coba lagi.
                </p>
            </div>
            
            <div class="mb-8">
                <div class="bg-white rounded-2xl p-6 shadow-md max-w-md mx-auto">
                    <h2 class="font-semibold text-xl mb-4 text-dark-brown">
                        <i class="fas fa-info-circle mr-2"></i>Informasi
                    </h2>
                    <p class="text-gray-600 mb-4">
                        Website ini memerlukan koneksi internet untuk menampilkan menu dan memproses pesanan.
                    </p>
                    <div class="flex items-center justify-center space-x-2 text-sm text-gray-500">
                        <div class="w-3 h-3 bg-red-500 rounded-full animate-pulse"></div>
                        <span>Status: <span id="connectionStatus">Mengecek koneksi...</span></span>
                    </div>
                </div>
            </div>
            
            <button class="bg-sage-green hover:bg-green-700 text-white px-6 py-3 rounded-full font-medium transition duration-300" id="retryConnection">
                <i class="fas fa-redo mr-2"></i>Coba Lagi
            </button>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50 scroll-animate">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center py-4">
                <div class="flex justify-between items-center w-full md:w-auto">
                    <a href="#" class="font-playfair text-2xl font-semibold text-dark-brown">
                        <i class="fas fa-coffee mr-2"></i>kopicantik.group
                    </a>
                    <button class="md:hidden text-2xl text-dark-brown" id="mobileMenuToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                
                <!-- Navigation Desktop -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#" class="font-medium text-dark-brown hover:text-sage-green transition duration-200">
                        <i class="fas fa-home mr-1"></i>Beranda
                    </a>
                    <a href="#menu" class="font-medium text-dark-brown hover:text-sage-green transition duration-200">
                        <i class="fas fa-utensils mr-1"></i>Menu
                    </a>
                    <a href="#about" class="font-medium text-dark-brown hover:text-sage-green transition duration-200">
                        <i class="fas fa-info-circle mr-1"></i>Tentang Kami
                    </a>
                    <a href="#contact" class="font-medium text-dark-brown hover:text-sage-green transition duration-200">
                        <i class="fas fa-address-book mr-1"></i>Kontak
                    </a>
                </nav>
                
                <!-- Search Bar Desktop -->
                <div class="hidden md:block w-full md:w-auto mb-4 md:mb-0">
                    <div class="relative">
                        <input type="text" id="searchInput" class="w-full md:w-80 pl-10 pr-4 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" placeholder="Cari menu...">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Search Bar Mobile (Hidden by default) -->
                <div class="search-bar-mobile w-full mb-4 md:hidden" id="searchBarMobile">
                    <div class="relative">
                        <input type="text" id="searchInputMobile" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" placeholder="Cari menu...">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <div class="flex items-center">
                    <!-- Search Icon Mobile -->
                    <button class="md:hidden text-xl mr-4 text-dark-brown" id="searchToggle">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="cart-icon relative text-xl text-dark-brown">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count absolute -top-2 -right-2 bg-sage-green text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu fixed inset-0 bg-white z-50 p-6 md:hidden" id="mobileMenu">
        <div class="flex justify-between items-center mb-8">
            <h2 class="font-playfair text-2xl font-semibold text-dark-brown">
                <i class="fas fa-bars mr-2"></i>Menu
            </h2>
            <button class="close-mobile-menu text-2xl text-dark-brown" id="closeMobileMenu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <nav class="space-y-4">
            <a href="#" class="block py-2 text-lg font-medium text-dark-brown">
                <i class="fas fa-home mr-3"></i>Beranda
            </a>
            <a href="#menu" class="block py-2 text-lg font-medium text-dark-brown">
                <i class="fas fa-utensils mr-3"></i>Menu
            </a>
            <a href="#about" class="block py-2 text-lg font-medium text-dark-brown">
                <i class="fas fa-info-circle mr-3"></i>Tentang Kami
            </a>
            <a href="#contact" class="block py-2 text-lg font-medium text-dark-brown">
                <i class="fas fa-address-book mr-3"></i>Kontak
            </a>
        </nav>
        
        <div class="mt-8 pt-8 border-t border-gray-200">
            <h3 class="font-medium mb-4">
                <i class="fas fa-tags mr-2"></i>Kategori Menu
            </h3>
            <div class="space-y-2">
                <button class="category-btn-mobile w-full text-left px-4 py-2 bg-sage-green text-white rounded-full font-medium" data-category="all">
                    <i class="fas fa-th-large mr-2"></i>Semua
                </button>
                <button class="category-btn-mobile w-full text-left px-4 py-2 bg-white border border-gray-300 rounded-full hover:bg-gray-100 transition duration-200" data-category="non-coffee">
                    <i class="fas fa-mug-hot mr-2"></i>Non-Coffee Series
                </button>
                <button class="category-btn-mobile w-full text-left px-4 py-2 bg-white border border-gray-300 rounded-full hover:bg-gray-100 transition duration-200" data-category="coffee">
                    <i class="fas fa-coffee mr-2"></i>Coffee Series
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="bg-dark-brown text-white py-16 md:py-24 parallax" style="background: linear-gradient(rgba(90, 62, 54, 0.8), rgba(90, 62, 54, 0.8)), url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); background-size: cover; background-position: center;">
        <div class="container mx-auto px-4 text-center scroll-animate">
            <h1 class="font-playfair text-3xl md:text-4xl font-medium mb-6 animate-slide-down">
                <i class="fas fa-star mr-2"></i>Kopi Berkualitas, Pengalaman Tak Terlupakan
            </h1>
            <p class="text-lg max-w-2xl mx-auto mb-8 animate-slide-up">Nikmati racikan kopi spesial dengan bahan-bahan premium di kafe kami yang nyaman dan hangat.</p>
            <a href="#menu" class="inline-block bg-sage-green hover:bg-green-700 text-white px-6 py-3 rounded-full font-medium transition duration-300 transform hover:-translate-y-1 animate-bounce-in">
                <i class="fas fa-utensils mr-2"></i>Lihat Menu
            </a>
        </div>
    </section>

    <!-- Menu Section -->
    <section class="py-16 menu-section-container" id="menu">
        <div class="container mx-auto px-4">
            <!-- Menu Title on the Left -->
            <div class="flex flex-col md:flex-row">
                <div class="md:w-1/4 mb-8 md:mb-0 scroll-animate">
                    <h2 class="font-playfair text-3xl font-medium mb-6">
                        <i class="fas fa-concierge-bell mr-2"></i>Menu Kami
                    </h2>
                    
                    <!-- Minimum Order Notice -->
                    <div class="bg-sage-green text-white p-4 rounded-lg mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-xl mr-3"></i>
                            <div>
                                <h3 class="font-semibold">Pemesanan Minimal</h3>
                                <p class="text-sm">Minimal 5 cup untuk setiap pemesanan</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Category Filters -->
                    <div class="space-y-2 hidden md:block">
                        <button class="category-btn w-full text-left px-4 py-2 bg-sage-green text-white rounded-full font-medium" data-category="all">
                            <i class="fas fa-th-large mr-2"></i>Semua
                        </button>
                        <button class="category-btn w-full text-left px-4 py-2 bg-white border border-gray-300 rounded-full hover:bg-gray-100 transition duration-200" data-category="non-coffee">
                            <i class="fas fa-mug-hot mr-2"></i>Non-Coffee Series
                        </button>
                        <button class="category-btn w-full text-left px-4 py-2 bg-white border border-gray-300 rounded-full hover:bg-gray-100 transition duration-200" data-category="coffee">
                            <i class="fas fa-coffee mr-2"></i>Coffee Series
                        </button>
                    </div>
                </div>
                
                <!-- Menu Grid -->
                <div class="md:w-3/4">
                    <div class="menu-grid" id="menuGrid">
                        <!-- Menu items will be dynamically added here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-16 bg-white" id="about">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-8 md:mb-0 scroll-animate">
                    <!-- Coffee Cart Animation -->
                    <div class="coffee-cart-container mb-6">
                        <div class="coffee-cart animate-coffee-cart">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="coffee-cart-path"></div>
                        <!-- Coffee beans scattered along the path -->
                        <div class="coffee-bean" style="top: 30px; left: 50px; animation: float 2s ease-in-out infinite 0.2s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 60px; left: 150px; animation: float 2s ease-in-out infinite 0.4s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 40px; left: 250px; animation: float 2s ease-in-out infinite 0.6s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 70px; left: 350px; animation: float 2s ease-in-out infinite 0.8s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 50px; left: 450px; animation: float 2s ease-in-out infinite 1s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 80px; left: 550px; animation: float 2s ease-in-out infinite 1.2s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 60px; left: 650px; animation: float 2s ease-in-out infinite 1.4s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="coffee-bean" style="top: 90px; left: 750px; animation: float 2s ease-in-out infinite 1.6s;">
                            <i class="fas fa-coffee"></i>
                        </div>
                    </div>
                    
                    <img src="https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" 
                         alt="Tentang kopicantik.group" 
                         class="rounded-2xl shadow-lg w-full h-auto">
                </div>
                <div class="md:w-1/2 md:pl-12 scroll-animate">
                    <h2 class="font-playfair text-3xl md:text-4xl font-medium mb-6">
                        <i class="fas fa-store mr-2"></i>Tentang Kami
                    </h2>
                    <p class="text-lg mb-6">
                        NgopiCantik.group adalah kopi keliling yang siap menemui di mana saja.
                        kami meyajikan racikan kopi terbaik dengan cita rasa khas dan bahan Pilihan.
                        ngopi jadi Lebih mudah, dan berkesan.
                        
                    </p>
                    <button class="bg-dark-brown hover:bg-brown-800 text-white px-6 py-3 rounded-full font-medium transition duration-300">
                        <i class="fas fa-book-open mr-2"></i>Pelajari Lebih Lanjut
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-16 bg-cream">
        <div class="container mx-auto px-4">
            <h2 class="font-playfair text-3xl md:text-4xl font-medium text-center mb-12 scroll-animate">
                <i class="fas fa-comments mr-2"></i>Apa Kata Pelanggan
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Testimonial 1 -->
                <div class="bg-white rounded-2xl p-6 shadow-md scroll-animate">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-sage-green rounded-full flex items-center justify-center text-white font-semibold mr-4">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Ahmad R.</h4>
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">
                        "Aren Blend-nya juara! Rasanya pas, tidak terlalu pahit dengan aroma gula aren yang khas. 
                        Tempatnya nyaman banget buat nongkrong."
                    </p>
                </div>
                
                <!-- Testimonial 2 -->
                <div class="bg-white rounded-2xl p-6 shadow-md scroll-animate">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-sage-green rounded-full flex items-center justify-center text-white font-semibold mr-4">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Sari W.</h4>
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">
                        "Matcha di sini authentic banget! Pelayanan ramah dan cepat. 
                        Sudah jadi langganan setiap weekend buat healing."
                    </p>
                </div>
                
                <!-- Testimonial 3 -->
                <div class="bg-white rounded-2xl p-6 shadow-md scroll-animate">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-sage-green rounded-full flex items-center justify-center text-white font-semibold mr-4">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Budi K.</h4>
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600">
                        "Americanonya strong banget, persis yang saya cari. 
                        Harga terjangkau untuk kualitas premium. Recommended!"
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Location & Hours Section -->
    <section class="py-16 bg-white" id="contact">
        <div class="container mx-auto px-4">
            <div class="flex flex-col lg:flex-row">
                <!-- Location Map -->
                <div class="lg:w-1/2 mb-8 lg:mb-0 scroll-animate">
                    <div class="bg-gray-200 rounded-2xl h-96 overflow-hidden">
                        <!-- Google Maps Embed -->
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.521260322283!2d106.81956135000001!3d-6.194741999999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f5390917b759%3A0x6b45e83956a7cc74!2sJakarta%2C%20Daerah%20Khusus%20Ibukota%20Jakarta!5e0!3m2!1sid!2sid!4v1648017894353!5m2!1sid!2sid" 
                            width="100%" 
                            height="100%" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            class="rounded-2xl">
                        </iframe>
                    </div>
                    <div class="mt-4 text-center">
                        <a 
                            href="https://maps.google.com/?q=Jl.kopicantik.group+No.+123,+Jakarta" 
                            target="_blank" 
                            class="inline-flex items-center bg-sage-green text-white px-4 py-2 rounded-full hover:bg-green-700 transition duration-300"
                        >
                            <i class="fas fa-directions mr-2"></i>
                            Buka di Google Maps
                        </a>
                    </div>
                </div>
                
                <!-- Hours & Contact -->
                <div class="lg:w-1/2 lg:pl-12 scroll-animate">
                    <h2 class="font-playfair text-3xl md:text-4xl font-medium mb-8">
                        <i class="fas fa-store mr-2"></i>Kunjungi Kami
                    </h2>
                    
                    <div class="mb-8">
                        <h3 class="font-semibold text-xl mb-4">
                            <i class="far fa-clock mr-2"></i>Jam Operasional
                        </h3>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span>Senin - Jumat</span>
                                <span>07:00 - 22:00</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Sabtu - Minggu</span>
                                <span>08:00 - 23:00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h3 class="font-semibold text-xl mb-4">
                            <i class="fas fa-address-card mr-2"></i>Kontak
                        </h3>
                        <div class="space-y-2">
                            <div class="flex items-center">
                                <i class="fas fa-phone mr-3"></i>
                                <span>0815-8583-8449 (Kantor)</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-phone mr-3"></i>
                                <span>+62 857-8183-6563 (Pembuat Kopi)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="font-semibold text-xl mb-4">
                            <i class="fas fa-share-alt mr-2"></i>Follow Kami
                        </h3>
                        <div class="flex space-x-4">
                            <a href="https://www.instagram.com/ngopicantik.group?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" class="bg-dark-brown text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-brown-800 transition duration-300">
                                <i class="fab fa-instagram"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark-brown text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand -->
                <div class="md:col-span-1">
                    <h3 class="font-playfair text-2xl font-semibold mb-4">
                        <i class="fas fa-coffee mr-2"></i>NgopiCantik.group
                    </h3>
                    <p class="text-cream">
                        Tempat ngopi yang nyaman dengan racikan kopi spesial untuk pengalaman tak terlupakan.
                    </p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="font-semibold text-lg mb-4">
                        <i class="fas fa-link mr-2"></i>Menu Cepat
                    </h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Beranda
                        </a></li>
                        <li><a href="#menu" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Menu
                        </a></li>
                        <li><a href="#about" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Tentang Kami
                        </a></li>
                        <li><a href="#contact" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Kontak
                        </a></li>
                    </ul>
                </div>
                
                <!-- Categories -->
                <div>
                    <h4 class="font-semibold text-lg mb-4">
                        <i class="fas fa-tags mr-2"></i>Kategori
                    </h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Coffee Series
                        </a></li>
                        <li><a href="#" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Non-Coffee Series
                        </a></li>
                        <li><a href="#" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>Best Seller
                        </a></li>
                        <li><a href="#" class="text-cream hover:text-white transition duration-200">
                            <i class="fas fa-chevron-right mr-1"></i>New Arrival
                        </a></li>
                    </ul>
                </div>
                
                <!-- Newsletter -->
                <div>
                    <h4 class="font-semibold text-lg mb-4">
                        <i class="fas fa-newspaper mr-2"></i>Newsletter
                    </h4>
                    <p class="text-cream mb-4">Dapatkan promo dan menu terbaru</p>
                    <div class="flex">
                        <input type="email" placeholder="Email Anda" class="px-4 py-2 rounded-l-lg w-full text-dark-brown focus:outline-none">
                        <button class="bg-sage-green hover:bg-green-700 px-4 py-2 rounded-r-lg transition duration-300">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-600 mt-8 pt-8 text-center text-cream">
                <p>
                    <i class="far fa-copyright mr-1"></i>2024 NgopiCantik.group. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Floating Cart Button -->
    <div class="floating-cart fixed bottom-6 right-6 bg-dark-brown text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg cursor-pointer z-40">
        <i class="fas fa-shopping-cart"></i>
        <span class="floating-cart-count absolute -top-1 -right-1 bg-sage-green text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">0</span>
    </div>

    <!-- Modal Cart -->
    <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="modal bg-white rounded-2xl w-11/12 md:w-3/4 lg:w-2/3 max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="font-playfair text-2xl font-medium">
                    <i class="fas fa-shopping-cart mr-2"></i>Keranjang Belanja
                </h3>
                <button class="close-modal text-2xl text-gray-600 hover:text-gray-800">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-6">
                <!-- Minimum Order Warning -->
                <div id="minOrderWarning" class="min-order-warning hidden">
                    <i class="fas fa-exclamation-triangle text-yellow-500"></i>
                    <span>Pesanan minimal 5 cup belum terpenuhi. Tambahkan item lagi untuk melanjutkan.</span>
                </div>
                
                <!-- Step Indicator -->
                <div class="step-indicator flex justify-between mb-8 relative">
                    <div class="step flex flex-col items-center relative z-10" data-step="1">
                        <div class="step-number w-8 h-8 rounded-full bg-sage-green text-white flex items-center justify-center mb-2">
                            <i class="fas fa-shopping-basket"></i>
                        </div>
                        <div class="step-label text-sm">Pesanan</div>
                    </div>
                    <div class="step flex flex-col items-center relative z-10" data-step="2">
                        <div class="step-number w-8 h-8 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center mb-2">
                            <i class="fas fa-truck"></i>
                        </div>
                        <div class="step-label text-sm">Pengiriman</div>
                    </div>
                    <div class="step flex flex-col items-center relative z-10" data-step="3">
                        <div class="step-number w-8 h-8 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center mb-2">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="step-label text-sm">Pembayaran</div>
                    </div>
                    <div class="step flex flex-col items-center relative z-10" data-step="4">
                        <div class="step-number w-8 h-8 rounded-full bg-gray-300 text-gray-700 flex items-center justify-center mb-2">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="step-label text-sm">Konfirmasi</div>
                    </div>
                    <div class="absolute top-4 left-0 right-0 h-0.5 bg-gray-300 -z-10"></div>
                </div>
                
                <!-- Step 1: Cart Items -->
                <div class="step-content active" id="step1">
                    <div class="cart-items mb-6" id="cartItems">
                        <!-- Cart items will be dynamically added here -->
                    </div>
                    
                    <div class="cart-summary border-t border-gray-200 pt-4">
                        <div class="flex justify-between mb-2">
                            <span>Subtotal</span>
                            <span id="subtotal">Rp 0</span>
                        </div>
                        <div class="flex justify-between font-semibold text-lg border-t border-gray-200 pt-2">
                            <span>Total</span>
                            <span id="total">Rp 0</span>
                        </div>
                        <div class="mt-2 text-sm text-gray-600">
                            <i class="fas fa-info-circle mr-1"></i>Minimal pesanan: 5 cup
                        </div>
                    </div>
                </div>
                
                <!-- Step 2: Delivery -->
                <div class="step-content" id="step2">
                    <div class="toggle-group flex items-center mb-6">
                        <label class="toggle-switch">
                            <input type="checkbox" id="pickupToggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label ml-3 font-medium">
                            <i class="fas fa-store mr-1"></i>Ambil di tempat
                        </span>
                    </div>
                    
                    <div id="deliveryForm">
                        <div class="mb-4">
                            <label class="block font-medium mb-2" for="name">
                                <i class="fas fa-user mr-1"></i>Nama Lengkap
                            </label>
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="name" placeholder="Masukkan nama lengkap">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block font-medium mb-2" for="phone">
                                <i class="fas fa-phone mr-1"></i>Nomor Telepon
                            </label>
                            <input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="phone" placeholder="Masukkan nomor telepon">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block font-medium mb-2" for="address">
                                <i class="fas fa-map-marker-alt mr-1"></i>Alamat Lengkap
                            </label>
                            <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="address" rows="3" placeholder="Masukkan alamat lengkap"></textarea>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="mb-4">
                                <label class="block font-medium mb-2" for="city">
                                    <i class="fas fa-city mr-1"></i>Kota
                                </label>
                                <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="city" placeholder="Masukkan kota">
                            </div>
                            
                            <div class="mb-4">
                                <label class="block font-medium mb-2" for="postalCode">
                                    <i class="fas fa-mail-bulk mr-1"></i>Kode Pos
                                </label>
                                <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="postalCode" placeholder="Masukkan kode pos">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 3: Payment -->
                <div class="step-content" id="step3">
                    <div class="mb-6">
                        <label class="block font-medium mb-3">
                            <i class="fas fa-money-bill-wave mr-1"></i>Metode Pembayaran
                        </label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="payment-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-payment="transfer">
                                <div class="payment-icon text-2xl mb-2">
                                    <i class="fas fa-university"></i>
                                </div>
                                <div>Transfer Bank</div>
                            </div>
                            <div class="payment-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-payment="cash">
                                <div class="payment-icon text-2xl mb-2">
                                    <i class="fas fa-money-bill"></i>
                                </div>
                                <div>Cash on Delivery</div>
                            </div>
                            <div class="payment-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-payment="ewallet">
                                <div class="payment-icon text-2xl mb-2">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div>E-Wallet</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bank Selection for Transfer -->
                    <div id="bankSelection" class="hidden mb-6">
                        <label class="block font-medium mb-3">
                            <i class="fas fa-university mr-1"></i>Pilih Bank
                        </label>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bank-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-bank="cimb">
                                <div class="bank-icon text-2xl mb-2">
                                    <i class="fas fa-landmark"></i>
                                </div>
                                <div>CIMB Niaga</div>
                            </div>
                            <div class="bank-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-bank="mandiri">
                                <div class="bank-icon text-2xl mb-2">
                                    <i class="fas fa-landmark"></i>
                                </div>
                                <div>Mandiri</div>
                            </div>
                            <div class="bank-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-bank="bca">
                                <div class="bank-icon text-2xl mb-2">
                                    <i class="fas fa-landmark"></i>
                                </div>
                                <div>BCA</div>
                            </div>
                            <div class="bank-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-bank="danamon">
                                <div class="bank-icon text-2xl mb-2">
                                    <i class="fas fa-landmark"></i>
                                </div>
                                <div>Danamon</div>
                            </div>
                            <div class="bank-option border border-gray-300 rounded-lg p-4 text-center cursor-pointer transition duration-200 hover:border-sage-green" data-bank="bni">
                                <div class="bank-icon text-2xl mb-2">
                                    <i class="fas fa-landmark"></i>
                                </div>
                                <div>BNI</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block font-medium mb-2" for="notes">
                            <i class="fas fa-sticky-note mr-1"></i>Catatan Pesanan (Opsional)
                        </label>
                        <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sage-green focus:border-transparent" id="notes" rows="3" placeholder="Contoh: Tolong hangatkan minuman, tanpa gula, dll."></textarea>
                    </div>
                </div>
                
                <!-- Step 4: Confirmation -->
                <div class="step-content" id="step4">
                    <div class="mb-6">
                        <h4 class="font-playfair text-xl font-medium mb-3">
                            <i class="fas fa-clipboard-list mr-2"></i>Ringkasan Pesanan
                        </h4>
                        <div id="orderSummary">
                            <!-- Order summary will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-playfair text-xl font-medium mb-3">
                            <i class="fas fa-truck mr-2"></i>Informasi Pengiriman
                        </h4>
                        <div id="deliverySummary">
                            <!-- Delivery summary will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-playfair text-xl font-medium mb-3">
                            <i class="fas fa-credit-card mr-2"></i>Metode Pembayaran
                        </h4>
                        <div id="paymentSummary">
                            <!-- Payment summary will be dynamically added here -->
                        </div>
                    </div>

                    <!-- DUA OPSI WHATSAPP -->
                    <div class="whatsapp-options mt-8">
                        <h4 class="font-playfair text-xl font-medium mb-4">
                            <i class="fab fa-whatsapp mr-2"></i>Kirim Pesanan via WhatsApp
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Opsi 1: Ke Kantor -->
                            <button class="whatsapp-option bg-green-600 hover:bg-green-700 text-white px-6 py-4 rounded-lg font-medium transition duration-300 flex items-center justify-center" data-number="081585838449">
                                <i class="fab fa-whatsapp text-xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-semibold">Ke Kantor NgopiCantik</div>
                                    <div class="text-sm opacity-90">0815-8583-8449</div>
                                </div>
                            </button>
                            
                            <!-- Opsi 2: Ke Pembuat Kopi -->
                            <button class="whatsapp-option bg-dark-brown hover:bg-brown-800 text-white px-6 py-4 rounded-lg font-medium transition duration-300 flex items-center justify-center" data-number="6285781836563">
                                <i class="fas fa-mug-hot text-xl mr-3"></i>
                                <div class="text-left">
                                    <div class="font-semibold">Ke Pembuat Kopi</div>
                                    <div class="text-sm opacity-90">+62 857-8183-6563</div>
                                </div>
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 mt-3 text-center">
                            <i class="fas fa-info-circle mr-1"></i>
                            Pilih tujuan pengiriman pesanan WhatsApp
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-between p-6 border-t border-gray-200">
                <button class="btn-secondary bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-2 rounded-full font-medium transition duration-200" id="prevStep">
                    <i class="fas fa-arrow-left mr-2"></i>Kembali
                </button>
                <button class="btn-primary bg-sage-green hover:bg-green-700 text-white px-6 py-2 rounded-full font-medium transition duration-200" id="nextStep">
                    Lanjutkan<i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-dark-brown text-white px-6 py-3 rounded-lg shadow-lg z-50" id="toast">
        <i class="fas fa-check-circle mr-2"></i>
        <span id="toastMessage"></span>
    </div>

    <script>
        // Menu Data dengan gambar 1080x1350
        const menuItems = [
            // Non-Coffee Series
            {
                id: 1,
                name: "Coklat",
                description: "Minuman coklat dengan rasa yang kaya dan creamy",
                price: 10000,
                image: "/img/Coklat.png",
                category: "non-coffee"
            },
            {
                id: 2,
                name: "Mango Yakult",
                description: "Perpaduan mangga segar dengan yakult yang menyegarkan",
                price: 10000,
                image: "/img/manggo Yakult.png",
                category: "non-coffee"
            },
            {
                id: 3,
                name: "Matcha",
                description: "Matcha asli Jepang dengan tekstur halus dan aroma khas",
                price: 10000,
                image: "/img/Matcha.png",
                category: "non-coffee"
            },
            {
                id: 4,
                name: "Taro Latte",
                description: "Latte dengan rasa taro yang unik dan creamy",
                price: 10000,
                image: "/img/Taro.png",
                category: "non-coffee"
            },
            
            // Coffee Series
            {
                id: 5,
                name: "Aren Blend",
                description: "Kopi dengan gula aren asli, rasa manis alami",
                price: 8000,
                image: "/img/aren Blend.png",
                category: "coffee"
            },
            {
                id: 6,
                name: "Americano Strong",
                description: "Americano dengan rasa kopi yang kuat dan pekat",
                price: 9000,
                image: "/img/aMERICANO sTRONG.png",
                category: "coffee"
            },
            {
                id: 7,
                name: "Aren Arabica",
                description: "Kopi arabica dengan gula aren, kombinasi sempurna",
                price: 10000,
                image: "/img/aren ARABICA.png",
                category: "coffee"
            },
            {
                id: 8,
                name: "Blend Toping Caramel",
                description: "Kopi blend dengan topping caramel manis",
                price: 10000,
                image: "/img/bLEND tOPING cARAMEL.png",
                category: "coffee"
            },
            {
                id: 9,
                name: "Americano Sweet",
                description: "Americano dengan rasa manis yang pas",
                price: 10000,
                image: "/img/Americano Sweet.png",
                category: "coffee"
            },
            {
                id: 10,
                name: "Arabica Toping Caramel",
                description: "Kopi arabica premium dengan topping caramel",
                price: 12000,
                image: "/img/aren ARABICA.png",
                category: "coffee"
            }
        ];

        // Minimum order requirement
        const MIN_ORDER_CUPS = 5;

        // Cart State
        let cart = [];
        
        // Cek apakah ada data cart di localStorage, jika ada gunakan, jika tidak gunakan array kosong
        const savedCart = localStorage.getItem('cart');
        if (savedCart) {
            try {
                cart = JSON.parse(savedCart);
            } catch (e) {
                console.error('Error parsing cart from localStorage:', e);
                cart = [];
                localStorage.removeItem('cart'); // Hapus data yang corrupt
            }
        }

        let currentStep = 1;
        let selectedPayment = null;
        let selectedBank = null;
        let isPickup = false;

        // DOM Elements
        const menuGrid = document.getElementById('menuGrid');
        const cartIcon = document.querySelector('.cart-icon');
        const cartCount = document.querySelector('.cart-count');
        const floatingCart = document.querySelector('.floating-cart');
        const floatingCartCount = document.querySelector('.floating-cart-count');
        const modalOverlay = document.querySelector('.modal-overlay');
        const closeModal = document.querySelector('.close-modal');
        const cartItems = document.getElementById('cartItems');
        const subtotalEl = document.getElementById('subtotal');
        const totalEl = document.getElementById('total');
        const prevStepBtn = document.getElementById('prevStep');
        const nextStepBtn = document.getElementById('nextStep');
        const stepContents = document.querySelectorAll('.step-content');
        const steps = document.querySelectorAll('.step');
        const pickupToggle = document.getElementById('pickupToggle');
        const deliveryForm = document.getElementById('deliveryForm');
        const paymentOptions = document.querySelectorAll('.payment-option');
        const bankSelection = document.getElementById('bankSelection');
        const bankOptions = document.querySelectorAll('.bank-option');
        const orderSummary = document.getElementById('orderSummary');
        const deliverySummary = document.getElementById('deliverySummary');
        const paymentSummary = document.getElementById('paymentSummary');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const categoryBtnsMobile = document.querySelectorAll('.category-btn-mobile');
        const searchInput = document.getElementById('searchInput');
        const searchInputMobile = document.getElementById('searchInputMobile');
        const searchToggle = document.getElementById('searchToggle');
        const searchBarMobile = document.getElementById('searchBarMobile');
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMobileMenu = document.getElementById('closeMobileMenu');
        const loadingScreen = document.getElementById('loadingScreen');
        const minOrderWarning = document.getElementById('minOrderWarning');
        const whatsappOptions = document.querySelectorAll('.whatsapp-option');

        // Connection Status Elements
        const page404 = document.getElementById('page404');
        const retryConnectionBtn = document.getElementById('retryConnection');
        const connectionStatus = document.getElementById('connectionStatus');

        // Connection Status
        let isOnline = navigator.onLine;

        // Create offline indicator
        const offlineIndicator = document.createElement('div');
        offlineIndicator.className = 'offline-indicator';
        offlineIndicator.innerHTML = `
            <div class="container mx-auto px-4 flex items-center justify-center">
                <i class="fas fa-wifi mr-2"></i>
                <span>Anda sedang offline. Beberapa fitur mungkin tidak tersedia.</span>
            </div>
        `;

        // Create connection status indicator - DI KIRI
        const connectionStatusIndicator = document.createElement('div');
        connectionStatusIndicator.className = `connection-status ${isOnline ? 'online' : 'offline'}`;
        connectionStatusIndicator.innerHTML = `
            <span class="status-dot"></span>
            <span>${isOnline ? 'Online' : 'Offline'}</span>
        `;

        // Add indicators to body
        document.body.appendChild(offlineIndicator);
        document.body.appendChild(connectionStatusIndicator);

        // Function to check connection status
        function checkConnection() {
            isOnline = navigator.onLine;
            
            if (isOnline) {
                // Hide 404 page
                page404.classList.add('hidden');
                // Hide offline indicator
                offlineIndicator.classList.remove('show');
                // Update connection status indicator
                connectionStatusIndicator.className = 'connection-status online';
                connectionStatusIndicator.innerHTML = `
                    <span class="status-dot"></span>
                    <span>Online</span>
                `;
                connectionStatus.textContent = 'Terhubung';
                
                // Try to reload images if needed
                reloadImages();
            } else {
                // Show 404 page
                page404.classList.remove('hidden');
                // Show offline indicator
                offlineIndicator.classList.add('show');
                // Update connection status indicator
                connectionStatusIndicator.className = 'connection-status offline';
                connectionStatusIndicator.innerHTML = `
                    <span class="status-dot"></span>
                    <span>Offline</span>
                `;
                connectionStatus.textContent = 'Tidak terhubung ke internet';
            }
        }

        // Function to reload images when connection is restored
        function reloadImages() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                const src = img.src;
                img.src = '';
                img.src = src;
            });
        }

        // Initialize the menu dengan gambar 1080x1350
        function initializeMenu() {
            menuGrid.innerHTML = '';
            
            menuItems.forEach(item => {
                const menuCard = document.createElement('div');
                menuCard.className = 'menu-card bg-white rounded-2xl overflow-hidden shadow-md scroll-animate';
                menuCard.dataset.category = item.category;
                
                menuCard.innerHTML = `
                    <!-- Gambar dengan ratio 1080x1350 - TANPA BADGE MIN. ORDER -->
                    <div class="aspect-portrait relative overflow-hidden">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover">
                        <!-- BADGE MIN. ORDER DIHAPUS -->
                    </div>
                    <div class="p-4 flex flex-col min-h-[140px]">
                        <h3 class="font-semibold text-lg mb-2 text-sm md:text-base truncate">${item.name}</h3>
                        <p class="text-gray-600 text-xs md:text-sm mb-4 flex-grow line-clamp-2">${item.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="font-semibold text-sm md:text-lg">Rp ${item.price.toLocaleString('id-ID')}</span>
                            <button class="add-to-cart-btn bg-dark-brown text-white w-8 h-8 md:w-9 md:h-9 rounded-full flex items-center justify-center hover:bg-brown-800 transition duration-200" data-id="${item.id}">
                                <i class="fas fa-plus text-xs md:text-sm"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                menuGrid.appendChild(menuCard);
            });
            
            // Add event listeners to category filters
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryBtns.forEach(b => {
                        b.classList.remove('bg-sage-green', 'text-white');
                        b.classList.add('bg-white', 'border', 'border-gray-300');
                    });
                    btn.classList.remove('bg-white', 'border', 'border-gray-300');
                    btn.classList.add('bg-sage-green', 'text-white');
                    
                    const category = btn.dataset.category;
                    filterMenu(category);
                });
            });
            
            // Add event listeners to category filters mobile
            categoryBtnsMobile.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryBtnsMobile.forEach(b => {
                        b.classList.remove('bg-sage-green', 'text-white');
                        b.classList.add('bg-white', 'border', 'border-gray-300');
                    });
                    btn.classList.remove('bg-white', 'border', 'border-gray-300');
                    btn.classList.add('bg-sage-green', 'text-white');
                    
                    const category = btn.dataset.category;
                    filterMenu(category);
                    mobileMenu.classList.remove('active');
                });
            });
            
            // Add event listeners to add to cart buttons
            const addToCartBtns = document.querySelectorAll('.add-to-cart-btn');
            addToCartBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const itemId = parseInt(btn.dataset.id);
                    addToCart(itemId);
                });
            });
        }

        // Filter menu by category
        function filterMenu(category) {
            const menuCards = document.querySelectorAll('.menu-card');
            
            menuCards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Search menu items
        function searchMenu(query) {
            const menuCards = document.querySelectorAll('.menu-card');
            
            menuCards.forEach(card => {
                const itemName = card.querySelector('h3').textContent.toLowerCase();
                const itemDescription = card.querySelector('p').textContent.toLowerCase();
                
                if (itemName.includes(query.toLowerCase()) || itemDescription.includes(query.toLowerCase())) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Add item to cart
        function addToCart(itemId) {
            const item = menuItems.find(i => i.id === itemId);
            const existingItem = cart.find(i => i.id === itemId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: 1
                });
            }
            
            updateCart();
            showToast(`${item.name} ditambahkan ke keranjang`);
        }

        // Remove item from cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            updateCart();
        }

        // Update item quantity in cart
        function updateQuantity(itemId, newQuantity) {
            if (newQuantity < 1) {
                removeFromCart(itemId);
                return;
            }
            
            const item = cart.find(i => i.id === itemId);
            if (item) {
                item.quantity = newQuantity;
                updateCart();
            }
        }

        // Check if minimum order is met
        function isMinOrderMet() {
            const totalCups = cart.reduce((sum, item) => sum + item.quantity, 0);
            return totalCups >= MIN_ORDER_CUPS;
        }

        // Update cart display
        function updateCart() {
            // Update cart counts
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
            floatingCartCount.textContent = totalItems;
            
            // Update cart items in modal
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-center py-4">Keranjang Anda kosong</p>';
                subtotalEl.textContent = 'Rp 0';
                totalEl.textContent = 'Rp 0';
                
                // Hide minimum order warning
                minOrderWarning.classList.add('hidden');
                
                // Hapus dari localStorage jika keranjang kosong
                localStorage.removeItem('cart');
                return;
            }
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item flex justify-between items-center py-4 border-b border-gray-200';
                cartItem.innerHTML = `
                    <div class="cart-item-info flex-grow">
                        <div class="cart-item-name font-medium">${item.name}</div>
                        <div class="cart-item-price text-gray-600 text-sm">Rp ${item.price.toLocaleString('id-ID')}</div>
                    </div>
                    <div class="cart-item-controls flex items-center">
                        <button class="quantity-btn minus bg-gray-200 w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-300 transition duration-200" data-id="${item.id}">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="quantity mx-3 font-medium">${item.quantity}</span>
                        <button class="quantity-btn plus bg-gray-200 w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-300 transition duration-200" data-id="${item.id}">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="remove-item text-red-500 ml-3 hover:text-red-700 transition duration-200" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            // Add event listeners to quantity buttons
            const minusBtns = document.querySelectorAll('.quantity-btn.minus');
            minusBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const itemId = parseInt(btn.dataset.id);
                    const item = cart.find(i => i.id === itemId);
                    if (item) {
                        updateQuantity(itemId, item.quantity - 1);
                    }
                });
            });
            
            const plusBtns = document.querySelectorAll('.quantity-btn.plus');
            plusBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const itemId = parseInt(btn.dataset.id);
                    const item = cart.find(i => i.id === itemId);
                    if (item) {
                        updateQuantity(itemId, item.quantity + 1);
                    }
                });
            });
            
            // Add event listeners to remove buttons
            const removeBtns = document.querySelectorAll('.remove-item');
            removeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const itemId = parseInt(btn.dataset.id);
                    removeFromCart(itemId);
                });
            });
            
            // Update totals - TANPA biaya layanan
            const total = subtotal;
            
            subtotalEl.textContent = `Rp ${subtotal.toLocaleString('id-ID')}`;
            totalEl.textContent = `Rp ${total.toLocaleString('id-ID')}`;
            
            // Show/hide minimum order warning
            if (!isMinOrderMet()) {
                minOrderWarning.classList.remove('hidden');
            } else {
                minOrderWarning.classList.add('hidden');
            }
            
            // Save cart to localStorage - HANYA jika ada item
            if (cart.length > 0) {
                localStorage.setItem('cart', JSON.stringify(cart));
            } else {
                localStorage.removeItem('cart');
            }
        }

        // Show toast notification
        function showToast(message) {
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Navigate to step
        function goToStep(step) {
            // Hide all steps
            stepContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Update step indicators
            steps.forEach(s => {
                const stepNumber = s.querySelector('.step-number');
                s.classList.remove('active');
                stepNumber.classList.remove('bg-sage-green', 'text-white');
                stepNumber.classList.add('bg-gray-300', 'text-gray-700');
                
                if (parseInt(s.dataset.step) < step) {
                    stepNumber.classList.remove('bg-gray-300', 'text-gray-700');
                    stepNumber.classList.add('bg-dark-brown', 'text-white');
                }
            });
            
            // Show current step
            document.getElementById(`step${step}`).classList.add('active');
            document.querySelector(`.step[data-step="${step}"]`).classList.add('active');
            document.querySelector(`.step[data-step="${step}"] .step-number`).classList.remove('bg-gray-300', 'text-gray-700');
            document.querySelector(`.step[data-step="${step}"] .step-number`).classList.add('bg-sage-green', 'text-white');
            
            currentStep = step;
            
            // Update button text
            if (step === 4) {
                nextStepBtn.innerHTML = 'Selesai<i class="fas fa-check ml-2"></i>';
                nextStepBtn.style.display = 'none'; // Sembunyikan tombol next di step 4
            } else {
                nextStepBtn.innerHTML = 'Lanjutkan<i class="fas fa-arrow-right ml-2"></i>';
                nextStepBtn.style.display = 'block';
            }
            
            // Update summaries on confirmation step
            if (step === 4) {
                updateOrderSummary();
                updateDeliverySummary();
                updatePaymentSummary();
            }
        }

        // Update order summary for confirmation step
        function updateOrderSummary() {
            orderSummary.innerHTML = '';
            
            if (cart.length === 0) return;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                const summaryItem = document.createElement('div');
                summaryItem.className = 'flex justify-between mb-2';
                summaryItem.innerHTML = `
                    <span>${item.name} x${item.quantity}</span>
                    <span>Rp ${itemTotal.toLocaleString('id-ID')}</span>
                `;
                orderSummary.appendChild(summaryItem);
            });
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal;
            
            const subtotalRow = document.createElement('div');
            subtotalRow.className = 'flex justify-between mb-2';
            subtotalRow.innerHTML = `
                <span>Subtotal</span>
                <span>Rp ${subtotal.toLocaleString('id-ID')}</span>
            `;
            orderSummary.appendChild(subtotalRow);
            
            const totalRow = document.createElement('div');
            totalRow.className = 'flex justify-between font-semibold text-lg border-t border-gray-200 pt-2';
            totalRow.innerHTML = `
                <span>Total</span>
                <span>Rp ${total.toLocaleString('id-ID')}</span>
            `;
            orderSummary.appendChild(totalRow);
            
            const notes = document.getElementById('notes').value;
            if (notes) {
                const notesRow = document.createElement('div');
                notesRow.className = 'flex justify-between mt-2';
                notesRow.innerHTML = `
                    <span>Catatan:</span>
                    <span>${notes}</span>
                `;
                orderSummary.appendChild(notesRow);
            }
        }

        // Update delivery summary for confirmation step
        function updateDeliverySummary() {
            deliverySummary.innerHTML = '';
            
            if (isPickup) {
                deliverySummary.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <span>Metode</span>
                        <span>Ambil di tempat</span>
                    </div>
                `;
            } else {
                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                const city = document.getElementById('city').value;
                const postalCode = document.getElementById('postalCode').value;
                
                deliverySummary.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <span>Nama</span>
                        <span>${name}</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Telepon</span>
                        <span>${phone}</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Alamat</span>
                        <span>${address}</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Kota</span>
                        <span>${city}</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span>Kode Pos</span>
                        <span>${postalCode}</span>
                    </div>
                `;
            }
        }

        // Update payment summary for confirmation step
        function updatePaymentSummary() {
            paymentSummary.innerHTML = '';
            
            let paymentText = '';
            switch(selectedPayment) {
                case 'transfer':
                    paymentText = 'Transfer Bank';
                    if (selectedBank) {
                        paymentText += ` (${getBankName(selectedBank)})`;
                    }
                    break;
                case 'cash':
                    paymentText = 'Cash on Delivery';
                    break;
                case 'ewallet':
                    paymentText = 'E-Wallet';
                    break;
                default:
                    paymentText = 'Belum dipilih';
            }
            
            paymentSummary.innerHTML = `
                <div class="flex justify-between">
                    <span>Metode</span>
                    <span>${paymentText}</span>
                </div>
            `;
        }

        // Get bank name from bank code
        function getBankName(bankCode) {
            const banks = {
                'cimb': 'CIMB Niaga',
                'mandiri': 'Mandiri',
                'bca': 'BCA',
                'danamon': 'Danamon',
                'bni': 'BNI'
            };
            return banks[bankCode] || bankCode;
        }

        // Get bank account number based on selected bank
        function getBankAccount(bankCode) {
            const accounts = {
                'cimb': '800-1234567890',
                'mandiri': '123-4567890123',
                'bca': '1234567890',
                'danamon': '123456789012',
                'bni': '1234567890'
            };
            return accounts[bankCode] || '';
        }

        // Validate current step
        function validateStep(step) {
            switch(step) {
                case 1:
                    if (cart.length === 0) {
                        showToast('Keranjang Anda masih kosong');
                        return false;
                    }
                    
                    if (!isMinOrderMet()) {
                        showToast(`Pesanan minimal ${MIN_ORDER_CUPS} cup belum terpenuhi`);
                        return false;
                    }
                    
                    return true;
                case 2:
                    if (isPickup) return true;
                    
                    const name = document.getElementById('name').value;
                    const phone = document.getElementById('phone').value;
                    const address = document.getElementById('address').value;
                    const city = document.getElementById('city').value;
                    const postalCode = document.getElementById('postalCode').value;
                    
                    if (!name || !phone || !address || !city || !postalCode) {
                        showToast('Harap lengkapi semua informasi pengiriman');
                        return false;
                    }
                    
                    return true;
                case 3:
                    if (selectedPayment === null) {
                        showToast('Harap pilih metode pembayaran');
                        return false;
                    }
                    
                    if (selectedPayment === 'transfer' && selectedBank === null) {
                        showToast('Harap pilih bank untuk transfer');
                        return false;
                    }
                    
                    return true;
                case 4:
                    return true;
                default:
                    return false;
            }
        }

        // Send order to WhatsApp
        function sendToWhatsApp(phoneNumber) {
            // Build order message
            let message = "Halo! Saya ingin memesan dari NgopiCantik.group:\n\n";
            
            // Add items
            message += "ðŸ“‹ *Detail Pesanan:*\n";
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                message += `â€¢ ${item.name} x${item.quantity} = Rp ${itemTotal.toLocaleString('id-ID')}\n`;
            });
            
            // Add totals - TANPA biaya layanan
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal;
            
            message += `\nðŸ’° *Rincian Pembayaran:*\n`;
            message += `Subtotal: Rp ${subtotal.toLocaleString('id-ID')}\n`;
            message += `Total: Rp ${total.toLocaleString('id-ID')}\n\n`;
            
            // Add delivery info
            message += `ðŸšš *Informasi Pengiriman:*\n`;
            if (isPickup) {
                message += "Metode: Ambil di tempat\n";
            } else {
                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                const city = document.getElementById('city').value;
                const postalCode = document.getElementById('postalCode').value;
                
                message += `Nama: ${name}\n`;
                message += `Telepon: ${phone}\n`;
                message += `Alamat: ${address}, ${city}, ${postalCode}\n`;
            }
            
            // Add payment info
            message += `\nðŸ’³ *Metode Pembayaran:*\n`;
            let paymentText = '';
            switch(selectedPayment) {
                case 'transfer':
                    paymentText = `Transfer Bank ${getBankName(selectedBank)}`;
                    message += `${paymentText}\n`;
                    message += `No. Rekening: ${getBankAccount(selectedBank)}\n`;
                    message += `A/N: NgopiCantik.group\n`;
                    break;
                case 'cash':
                    paymentText = 'Cash on Delivery';
                    message += `${paymentText}\n`;
                    break;
                case 'ewallet':
                    paymentText = 'E-Wallet';
                    message += `${paymentText}\n`;
                    break;
            }
            
            // Add notes if any
            const notes = document.getElementById('notes').value;
            if (notes) {
                message += `\nðŸ“ *Catatan:*\n${notes}\n`;
            }
            
            message += `\nTerima kasih! ðŸ™`;
            
            // Encode message for URL
            const encodedMessage = encodeURIComponent(message);
            
            // Create WhatsApp URL
            const whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappURL, '_blank');
            
            // Clear cart and close modal
            cart = [];
            localStorage.removeItem('cart'); // Hapus data cart dari localStorage
            updateCart();
            modalOverlay.classList.remove('active');
            showToast('Pesanan berhasil dikirim ke WhatsApp!');
        }

        // Initialize scroll animations
        function initScrollAnimations() {
            const scrollElements = document.querySelectorAll('.scroll-animate');
            
            const elementInView = (el, dividend = 1) => {
                const elementTop = el.getBoundingClientRect().top;
                return (
                    elementTop <= (window.innerHeight || document.documentElement.clientHeight) / dividend
                );
            };
            
            const displayScrollElement = (element) => {
                element.classList.add('animated');
            };
            
            const handleScrollAnimation = () => {
                scrollElements.forEach((el) => {
                    if (elementInView(el, 1.2)) {
                        displayScrollElement(el);
                    }
                });
            };
            
            // Initial check
            handleScrollAnimation();
            
            // Listen for scroll events
            window.addEventListener('scroll', () => {
                handleScrollAnimation();
            });
        }

        // Initialize the app
        function init() {
            // Hide loading screen after 1.5 seconds
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                
                // Initialize the rest of the app
                initializeMenu();
                updateCart(); // Panggil updateCart untuk menampilkan data awal
                initScrollAnimations();
                
                // Add smooth scrolling for anchor links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
            }, 1500);
            
            // Event listeners
            cartIcon.addEventListener('click', () => {
                modalOverlay.classList.add('active');
            });
            
            floatingCart.addEventListener('click', () => {
                modalOverlay.classList.add('active');
            });
            
            closeModal.addEventListener('click', () => {
                modalOverlay.classList.remove('active');
            });
            
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    modalOverlay.classList.remove('active');
                }
            });
            
            prevStepBtn.addEventListener('click', () => {
                if (currentStep > 1) {
                    goToStep(currentStep - 1);
                }
            });
            
            nextStepBtn.addEventListener('click', () => {
                if (!validateStep(currentStep)) {
                    return;
                }
                
                if (currentStep < 4) {
                    goToStep(currentStep + 1);
                }
            });
            
            // Event listener untuk toggle "Ambil di Tempat"
            pickupToggle.addEventListener('change', () => {
                isPickup = pickupToggle.checked;
                if (isPickup) {
                    deliveryForm.style.display = 'none';
                } else {
                    deliveryForm.style.display = 'block';
                }
            });
            
            paymentOptions.forEach(option => {
                option.addEventListener('click', () => {
                    paymentOptions.forEach(o => {
                        o.classList.remove('border-sage-green', 'bg-green-50');
                    });
                    option.classList.add('border-sage-green', 'bg-green-50');
                    selectedPayment = option.dataset.payment;
                    
                    if (selectedPayment === 'transfer') {
                        bankSelection.classList.remove('hidden');
                    } else {
                        bankSelection.classList.add('hidden');
                        selectedBank = null;
                    }
                });
            });
            
            bankOptions.forEach(option => {
                option.addEventListener('click', () => {
                    bankOptions.forEach(o => {
                        o.classList.remove('selected');
                    });
                    option.classList.add('selected');
                    selectedBank = option.dataset.bank;
                });
            });
            
            // WhatsApp options event listeners
            whatsappOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const phoneNumber = option.dataset.number;
                    sendToWhatsApp(phoneNumber);
                });
            });
            
            // Search functionality
            searchInput.addEventListener('input', (e) => {
                searchMenu(e.target.value);
            });
            
            searchInputMobile.addEventListener('input', (e) => {
                searchMenu(e.target.value);
            });
            
            // Mobile menu functionality
            searchToggle.addEventListener('click', () => {
                searchBarMobile.classList.toggle('active');
            });
            
            mobileMenuToggle.addEventListener('click', () => {
                mobileMenu.classList.add('active');
            });
            
            closeMobileMenu.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
            });

            // Connection status event listeners
            window.addEventListener('online', checkConnection);
            window.addEventListener('offline', checkConnection);

            // Retry connection button
            retryConnectionBtn.addEventListener('click', checkConnection);

            // Initial connection check
            checkConnection();
        }

        // Start the app
        init();
    </script>
</body>
</html>